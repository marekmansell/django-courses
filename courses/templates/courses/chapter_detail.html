{% extends "base.html" %}
{% load i18n %}
{% load markdownify %}
{% load courses_extra %}

{% block content %}
  {% include "courses/includes/breadcrumbs.html" with breadcrumbs=breadcrumbs %}

  {% include "courses/includes/chapter_detail_header.html" with run=run chapter=chapter start=start end=end filter_lecture_type=filter_lecture_type %}

  {% if chapter.lecture_set.all %}
  <div class="py-5 container">
    <div class="row py-lg-5">

      <ul class="nav nav-tabs" id="myTab" role="tablist">
        {% for lecture in lectures %}
        <li class="nav-item" role="presentation">
          <button class="nav-link{% if forloop.first %} active{% endif %}" id="tab-{{ lecture.id }}" data-bs-toggle="tab" data-bs-target="#tab-id-{{ lecture.id }}" type="button" role="tab" aria-controls="tab-id-{{ lecture.id }}" aria-selected="true">
            {{ lecture.lecture_type|lecture_type_icon }}
            {{ lecture.title }}
          </button>
        </li>
        {% endfor %}
      </ul>

      <div class="tab-content" id="myTabContent">
        {% for lecture in lectures %}
        <div class="py-3 tab-pane fade show{% if forloop.first %} active{% endif %}" id="tab-id-{{ lecture.id }}" role="tabpanel" aria-labelledby="tab-{{ lecture.id }}">
          {% if lecture.subtitle %}<h4 class="fw-light">{{ lecture.subtitle }}</h4>{% endif %}
          <p>{{ lecture.description|markdownify }}</p>
        </div>
        {% endfor %}
      </div>

    </div>
  </div>
  {% endif %}
{% endblock %}